$(document).ready(function(){var t=function(t){this.element=t,this.slides=[],this.pagination=[],this.active=0,this.auto=!0,this.interval=1e3,this.intervalAfterStop=5e3,this.stopped=!1,this.__defineGetter__("slidesAmount",function(){return this.slides.length}),this.slideActive=function(t){this.activeSlide=this.slides[t],this.activePag=this.pagination[t];for(var i=0;i<this.slides.length;i++)$(this.slides[i]).stop().animate({opacity:0},1e3),$(this.pagination[i]).attr("class","");$(this.activeSlide).stop().animate({opacity:1},1e3),$(this.activePag).attr("class","active")},this.paginationPush=function(){var t=[],i=-1;$(this.element+" .pagination li").each(function(){i++,$(this).attr("id","pag"+i),t.push("#"+this.id)}),this.pagination=t,this.activePag=this.pagination[this.active]},this.slidesPush=function(){var t=[],i=-1;$(this.element+" #sliderWrapper .slide").each(function(){i++,$(this).attr("id","slide"+i),t.push("#"+this.id)}),this.slides=t,this.activeSlide=this.slides[this.active]},this.binding=function(){for(var t=this,s=function(s,e){$(s.pagination[e]).click(function(){i.stop(),t.active=e,$(this).attr("class","active"),s.slideActive(e)})},e=0;e<this.slides.length;e++)s(this,e)},this.next=function(){this.active<this.slidesAmount-1?(this.active+=1,this.slideActive(this.active)):(this.active=0,this.slideActive(this.active))},this.prev=function(){this.active>0?(this.active-=1,this.slideActive(this.active)):(this.active=this.slidesAmount-1,this.slideActive(this.active))},this.autoPlay=function(){this.auto===!0&&(this.stopped=!1,this.timer=setInterval(this.next.bind(this),this.interval||2e3))},this.stop=function(){console.log(this.stopped),clearInterval(this.timer),this.auto===!0&&this.stopped===!1&&(this.stopped=!0,setTimeout(this.autoPlay.bind(this),this.intervalAfterStop))},this.init=function(){this.slidesPush(),this.paginationPush(),this.binding(),this.slideActive(this.active),this.autoPlay()}},i=new t("#slider");i.init(),$("#but1").click(function(){i.stop(),i.prev()}),$("#but2").click(function(){i.stop(),i.next()}),$("#but3").click(function(){i.autoPlay()});var s=function(){requestAnimationFrame(s)};s()});